# ══════════════════════════════════════════════════════════════════════════════
#  NARC Pharmacovigilance Platform — Environment Variables
#
#  Copy this file to .env and fill in your values.
#  Never commit .env to version control (it is already in .gitignore).
#
#  Usage:
#    cp .env.example .env
#    docker compose up --build -d
# ══════════════════════════════════════════════════════════════════════════════


# ── Required ──────────────────────────────────────────────────────────────────

# Anthropic Claude API key
# Get yours at: https://console.anthropic.com
ANTHROPIC_API_KEY=sk-ant-api03-...

# PostgreSQL password for the internal narc database user
# Used by docker-compose to create the postgres container and connect the backend
# Use a strong random password in production: openssl rand -hex 32
DB_PASSWORD=change_me_strong_password

# JWT signing secret for session tokens
# Generate a secure value: openssl rand -base64 48
JWT_SECRET=change_me_long_random_secret


# ── Dashboard ─────────────────────────────────────────────────────────────────

# Port the dashboard will listen on (default: 80)
# Change to 8080 if port 80 is taken, or put a reverse proxy in front
DASHBOARD_PORT=80

# Public URL of the dashboard — used in alert email links
DASHBOARD_URL=http://localhost


# ── Optional: SMTP Alert Emails ───────────────────────────────────────────────
# When configured, NARC sends email alerts on:
#   • Critical / High AE detections
#   • SLA deadline breaches
#
# Example (Gmail app password):
#   ALERT_SMTP_HOST=smtp.gmail.com
#   ALERT_SMTP_PORT=587
#   ALERT_SMTP_USER=your-account@gmail.com
#   ALERT_SMTP_PASS=xxxx-xxxx-xxxx-xxxx   ← Gmail App Password, not your login password
#   ALERT_EMAIL_FROM=narc-alerts@yourorg.com
#   ALERT_EMAIL_TO=pharmacovigilance@yourorg.com

ALERT_SMTP_HOST=
ALERT_SMTP_PORT=587
ALERT_SMTP_USER=
ALERT_SMTP_PASS=
ALERT_EMAIL_FROM=
ALERT_EMAIL_TO=


# ── Optional: IMAP Mail Monitor ───────────────────────────────────────────────
# Point NARC at a dedicated safety mailbox to auto-scan incoming emails for AEs.
# Emails are analysed by Claude in real time; findings appear in the dashboard.
#
# Supported: Gmail (app password), Outlook/Exchange, any IMAP/IMAPS server
#
# Gmail setup:
#   1. Enable 2FA on the account
#   2. Generate an App Password at myaccount.google.com/apppasswords
#   3. Set IMAP_HOST=imap.gmail.com, IMAP_PORT=993
#
# Outlook / Exchange setup:
#   IMAP_HOST=outlook.office365.com
#   IMAP_PORT=993

IMAP_HOST=
IMAP_PORT=993
IMAP_USER=
IMAP_PASS=
IMAP_MAILBOX=INBOX
